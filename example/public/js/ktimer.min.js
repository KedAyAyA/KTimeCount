!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.KTimer=n()}(this,function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function n(n){return null!==n&&"object"===(void 0===n?"undefined":t(n))}function e(t){return n(t)?JSON.parse(JSON.stringify(t)):function(t){return"number"==typeof t||"string"==typeof t||"boolean"==typeof t}(t)?t:0}var i=Object.create(null);function o(t,n){if("string"!=typeof t)throw new Error("name must be a string");return this instanceof o?i[t]?i[t]:(this.options=n||{},this.name=t,this.data=e(this.options.data),this.cb=this.options.callback||function(){},this.delay=this.options.delay||1e3,this.changeDataFn=(this.options.changeDataFn||function(t){return t}).bind(this),this.timeHandler=null,void(i[t]=this)):new o(t)}return o.version="v0.0.3",o.getInstanceByName=function(t){return i[t]},o.removeInstance=function(t){var e=null;if(n(t)){for(var o in i)if(i[o]===t){e=o;break}}else e=t;null!==e&&(i[e].stop(),i[e]=null)},o.prototype.start=function(t){var e=this;return this.timeHandler&&(clearTimeout(this.timeHandler),this.timeHandler=null),this.timeHandler=setTimeout(function(){var i=e.changeDataFn.call(null,e.data);n(e.data)||(e.data=void 0===i?e.data:i),e.start(t),e.cb.apply(t||null)},this.delay),this},o.prototype.setData=function(t){return this.data=t,this},o.prototype.reset=function(t,n){return this.setData(e(n||this.options.data)),clearTimeout(this.timeHandler),this.cb.apply(t||null),this},o.prototype.getData=function(){return this.data},o.prototype.stop=function(){return clearTimeout(this.timeHandler),this.timeHandler=null,this},o});
